function genUniqueKeyframeName(){return"seq-"+uniqueId++}function setVerticalOffset(e){v_offset=e}function setTextStyle(e,t){_setTextStyle(e,t,".instruction_text, .final_text")}function setSubTextStyle(e,t){_setTextStyle(e,t,".instruction_text_small, .final_text_small")}function _setTextStyle(e,t,n){for(var a,r=e.split(";"),o=r[0]+"pt",i=r[1],s=r[2],p=document.querySelectorAll(n),m=0;m<p.length;m++)a=p[m],a.style.fontSize=o,a.style.fontFamily=i,a.style.fontWeight=s,a.style.fontColor=t}function setRTL(e){var t;rtl_mode=e,e?(t=document.getElementById("playback_canvas"),t.parentElement.removeChild(t)):(t=document.getElementById("playback_canvas_rtl"),t.parentElement.removeChild(t))}function initTryThisLaterMessageSequence(e,t,n){var a=document.getElementById("trythislater_overlay_canvas"),r=new ScenesManager(a);r.addScene(new SceneItem(document.getElementById("trythislater_sequence"),"s0","to{opacity:0}","0s",null)),r.addScene(new SceneItem(document.getElementById("trythislater_sequence"),"s0","from{-ms-animation-timing-function:ease;opacity:0;}15%{opacity:1}85%{opacity:1}to{opacity:1}",e,null)),r.addScene(new SceneItem(document.getElementById("trythislater_sequence"),"s0","to{opacity:1}",t,null)),r.addScene(new SceneItem(document.getElementById("trythislater_sequence"),"s0","from{-ms-animation-timing-function:ease;opacity:1;}15%{opacity:1}85%{opacity:1}to{opacity:0}",n,null)),r.playScenes({repeat:!1})}function initEndSequence(){document.getElementById("end_sequence_canvas").style.visibility="visible";var e,t=document.getElementById("end_sequence_canvas");e=new ScenesManager(t),e.addScene(new SceneItem(document.getElementById("pre_end_sequence"),"es","to{opacity:1}","6.2s",setPreEndSequence())),e.addScene(new SceneItem(document.getElementById("end_sequence"),"es","to{opacity:1}","0s",setEndSequence())),e.playScenes({repeat:!1,oncomplete_callback:function(){startAnimation()}})}function initEndSequenceMessagesOverlay(){document.getElementById("final_messages_overlay_canvas").style.visibility="visible";var e,t=document.getElementById("final_messages_overlay_canvas");e=new ScenesManager(t),e.addScene(new SceneItem(document.getElementById("message_overlay_sequence"),"mos","to{opacity:1}","300s",setFinalMessagesSequence())),e.playScenes({repeat:!1})}function addZDPMessage(e){rgZDPMessages[rgZDPMessages.length]=e}function initZDPEndSequence(){initEndSequence(),document.getElementById("zdp_final_messages_overlay_canvas").style.visibility="visible",nextZDPMessage()}function nextZDPMessage(){document.getElementById("zdp_final_message_text").innerHTML=rgZDPMessages[zdpMessageIndex++];var e,t=document.getElementById("zdp_final_messages_overlay_canvas");e=new ScenesManager(t),e.addScene(new SceneItem(document.getElementById("zdp_message_overlay_sequence"),"mos","to{opacity:1}","60s",setZDPFinalMessagesSequence())),e.playScenes({repeat:!1,oncomplete_callback:function(){zdpMessageIndex>=rgZDPMessages.length&&(zdpMessageIndex=0),nextZDPMessage()}})}function setFinalMessagesSequence(){var e=new KeyframeSequencer(document.getElementById("message_overlay_sequence")),t=60,n=t-7,a=n;return e.addSequence(document.getElementById("final_message_text1"),[{properties:"-ms-animation-timing-function:cubic-bezier(0.1, 0.9, 0.2, 1);opacity:0;-ms-transform:translate(0px,0px);",duration:0},{properties:"-ms-transform:translate(0px,0px);opacity:1;",duration:6},{properties:"-ms-animation-timing-function:linear;-ms-transform:translate(0px,0px);opacity:1;",duration:n},{properties:"-ms-transform:translate(0px,0px);opacity:0;",duration:1}],"0s"),e.addSequence(document.getElementById("sub_final_message_text1"),[{properties:"-ms-animation-timing-function:cubic-bezier(0.1, 0.9, 0.2, 1);opacity:0;-ms-transform:translate(0px,0px);",duration:0},{properties:"-ms-transform:translate(0px,0px);opacity:1;",duration:6},{properties:"-ms-animation-timing-function:linear;-ms-transform:translate(0px,0px);opacity:1;",duration:n+2+(t-2)},{properties:"-ms-animation-timing-function:linear;-ms-transform:translate(0px,0px);opacity:0;",duration:1}],"0s"),a+=7,n=t-2,e.addSequence(document.getElementById("final_message_text2"),[{properties:"-ms-animation-timing-function:linear;opacity:0;-ms-transform:translate(0px,0px);",duration:0},{properties:"-ms-transform:translate(0px,0px);opacity:1;",duration:1},{properties:"-ms-transform:translate(0px,0px);opacity:1;",duration:n},{properties:"-ms-transform:translate(0px,0px);opacity:0;",duration:1}],a+"s"),e.addSequence(document.getElementById("sub_final_message_text2"),[{properties:"-ms-animation-timing-function:linear;opacity:0;-ms-transform:translate(0px,0px);",duration:0},{properties:"-ms-transform:translate(0px,0px);opacity:0;",duration:1},{properties:"-ms-transform:translate(0px,0px);opacity:0;",duration:n},{properties:"-ms-transform:translate(0px,0px);opacity:0;",duration:1}],a+"s"),a+=n+2,e.addSequence(document.getElementById("final_message_text3"),[{properties:"-ms-animation-timing-function:linear;opacity:0;-ms-transform:translate(0px,0px);",duration:0},{properties:"-ms-transform:translate(0px,0px);opacity:1;",duration:1},{properties:"-ms-transform:translate(0px,0px);opacity:1;",duration:n},{properties:"-ms-transform:translate(0px,0px);opacity:0;",duration:1}],a+"s"),e.addSequence(document.getElementById("sub_final_message_text3"),[{properties:"-ms-animation-timing-function:linear;opacity:0;-ms-transform:translate(0px,0px);",duration:0},{properties:"-ms-transform:translate(0px,0px);opacity:1;",duration:1},{properties:"-ms-transform:translate(0px,0px);opacity:1;",duration:3*n+4},{properties:"-ms-transform:translate(0px,0px);opacity:1;",duration:1}],a+"s"),a+=n+2,e.addSequence(document.getElementById("final_message_text4"),[{properties:"-ms-animation-timing-function:linear;opacity:0;-ms-transform:translate(0px,0px);",duration:0},{properties:"-ms-transform:translate(0px,0px);opacity:1;",duration:1},{properties:"-ms-transform:translate(0px,0px);opacity:1;",duration:n},{properties:"-ms-transform:translate(0px,0px);opacity:0;",duration:1}],a+"s"),e.addSequence(document.getElementById("sub_final_message_text4"),[{properties:"-ms-animation-timing-function:linear;opacity:0;-ms-transform:translate(0px,0px);",duration:0},{properties:"-ms-transform:translate(0px,0px);opacity:0;",duration:1},{properties:"-ms-transform:translate(0px,0px);opacity:1;",duration:n+1},{properties:"-ms-transform:translate(0px,0px);opacity:0;",duration:1}],a+2*(n+2)+"s"),a+=n+2,e.addSequence(document.getElementById("final_message_text5"),[{properties:"-ms-animation-timing-function:linear;opacity:0;-ms-transform:translate(0px,0px);",duration:0},{properties:"-ms-transform:translate(0px,0px);opacity:1;",duration:1},{properties:"-ms-transform:translate(0px,0px);opacity:1;",duration:n},{properties:"-ms-transform:translate(0px,0px);opacity:1;",duration:1}],a+"s"),e.addSequence(document.getElementById("sub_final_message_text5"),[{properties:"-ms-animation-timing-function:linear;opacity:0;-ms-transform:translate(0px,0px);",duration:0},{properties:"-ms-transform:translate(0px,0px);opacity:0;",duration:1},{properties:"-ms-transform:translate(0px,0px);opacity:0;",duration:n+1},{properties:"-ms-transform:translate(0px,0px);opacity:0;",duration:1}],a+3*(n+2)+"s"),e}function setZDPFinalMessagesSequence(){var e,t,n;return e=new KeyframeSequencer(document.getElementById("zdp_message_overlay_sequence")),t=60,n=t-7,e.addSequence(document.getElementById("zdp_final_message_text"),[{properties:"-ms-animation-timing-function:cubic-bezier(0.1, 0.9, 0.2, 1);opacity:0;-ms-transform:translate(0px,0px);",duration:0},{properties:"-ms-transform:translate(0px,0px);opacity:1;",duration:6},{properties:"-ms-animation-timing-function:linear;-ms-transform:translate(0px,0px);opacity:1;",duration:n},{properties:"-ms-transform:translate(0px,0px);opacity:0;",duration:1}],"0s"),e}function startAnimation(){elm=document.getElementById("color1"),rCurrent=rValues[currentColor],gCurrent=gValues[currentColor],bCurrent=bValues[currentColor],setTargetColor()}function setTargetColor(){rIncrement=(rValues[targetColor]-rCurrent)/steps,gIncrement=(gValues[targetColor]-gCurrent)/steps,bIncrement=(bValues[targetColor]-bCurrent)/steps,currentColor=(currentColor+1)%numberColors,targetColor=(targetColor+1)%numberColors,currentStep=steps,cycleToTargetColor()}function cycleToTargetColor(){currentStep--,rCurrent+=rIncrement,gCurrent+=gIncrement,bCurrent+=bIncrement,framesSinceSkip++,framesSinceSkip>=skipNthFrame&&(framesSinceSkip=0,elm.style.backgroundColor="rgb("+Math.round(rCurrent)+","+Math.round(gCurrent)+","+Math.round(bCurrent)+")"),currentStep>0?callback=requestAnimationFrame(cycleToTargetColor):setTargetColor()}function setPreEndSequence(){var e;return e=new KeyframeSequencer(document.getElementById("pre_end_sequence")),e.addSequence(document.getElementById("color0"),[{properties:"-ms-animation-timing-function:linear;opacity:0;",duration:0},{properties:"opacity:1;",duration:4}],"1s"),e}function setEndSequence(){var e;return e=new KeyframeSequencer(document.getElementById("end_sequence")),e.addSequence(document.getElementById("color1"),[{properties:"-ms-animation-timing-function:linear;opacity:1;",duration:0}],"0s"),e}function initTouchSequence(e){var t,n;e?(initEndSequence(),initEndSequenceMessagesOverlay()):(initTryThisLaterMessageSequence("6s","21s","7s"),n=rtl_mode?document.getElementById("playback_canvas_rtl"):document.getElementById("playback_canvas"),t=new ScenesManager(n),t.addScene(new SceneItem(document.getElementById("touch_sequence"),"s1","from{-ms-animation-timing-function:ease;opacity:0;}15%{opacity:1}85%{opacity:1}to{opacity:1}","6s",setTouchSequence0())),t.addScene(new SceneItem(document.getElementById("touch_sequence"),"s1","from{-ms-animation-timing-function:ease;opacity:1;}15%{opacity:1}85%{opacity:1}to{opacity:1}","7s",setTouchSequence1())),t.addScene(new SceneItem(document.getElementById("touch_sequence"),"s1","from{-ms-animation-timing-function:ease;opacity:1;}15%{opacity:1}85%{opacity:1}to{opacity:1}","7s",setTouchSequence3())),t.addScene(new SceneItem(document.getElementById("touch_sequence"),"s1","from{-ms-animation-timing-function:ease;opacity:1;}15%{opacity:1}85%{opacity:1}to{opacity:1}","7s",setTouchSequence3())),t.addScene(new SceneItem(document.getElementById("touch_sequence"),"s1","from{-ms-animation-timing-function:ease;opacity:1;}15%{opacity:1}85%{opacity:1}to{opacity:0}","7s",setTouchSequence2())),t.playScenes({repeat:!1,oncomplete_callback:function(){initEndSequence(),initEndSequenceMessagesOverlay()}}))}function initTouchAndMouseSequence(e){var t,n;e?(initEndSequence(),initEndSequenceMessagesOverlay()):(initTryThisLaterMessageSequence("6s","57.4s","7.8s"),n=rtl_mode?document.getElementById("playback_canvas_rtl"):document.getElementById("playback_canvas"),t=new ScenesManager(n),t.addScene(new SceneItem(document.getElementById("touch_sequence"),"s1","from{-ms-animation-timing-function:ease;opacity:0;}15%{opacity:1}85%{opacity:1}to{opacity:1}","6s",setTouchSequence0())),t.addScene(new SceneItem(document.getElementById("touch_sequence"),"s1","from{-ms-animation-timing-function:ease;opacity:1;}15%{opacity:1}85%{opacity:1}to{opacity:1}","7s",setTouchSequence1())),t.addScene(new SceneItem(document.getElementById("touch_sequence"),"s1","from{-ms-animation-timing-function:ease;opacity:1;}15%{opacity:1}85%{opacity:1}to{opacity:0}","7s",setTouchSequence2())),t.addScene(new SceneItem(document.getElementById("mouse_sequence"),"s2","from{-ms-animation-timing-function:ease;opacity:0;}15%{opacity:1}85%{opacity:1}to{opacity:1}","9.8s",setMouseSequence3())),t.addScene(new SceneItem(document.getElementById("mouse_sequence"),"s2","from{-ms-animation-timing-function:ease;opacity:1;}15%{opacity:1}85%{opacity:1}to{opacity:0}","7.8s",setMouseSequence2())),t.addScene(new SceneItem(document.getElementById("touch_sequence"),"s1","from{-ms-animation-timing-function:ease;opacity:0;}15%{opacity:1}85%{opacity:1}to{opacity:1}","9s",setTouchSequence4())),t.addScene(new SceneItem(document.getElementById("touch_sequence"),"s1","from{-ms-animation-timing-function:ease;opacity:1;}15%{opacity:1}85%{opacity:1}to{opacity:0}","7s",setTouchSequence2())),t.addScene(new SceneItem(document.getElementById("mouse_sequence"),"s2","from{-ms-animation-timing-function:ease;opacity:0;}15%{opacity:1}85%{opacity:1}to{opacity:1}","9.8s",setMouseSequence3())),t.addScene(new SceneItem(document.getElementById("mouse_sequence"),"s2","from{-ms-animation-timing-function:ease;opacity:1;}15%{opacity:1}85%{opacity:1}to{opacity:0}","7.8s",setMouseSequence2())),t.playScenes({oncomplete_callback:function(){initEndSequence(),initEndSequenceMessagesOverlay()}}))}function initMouseSequence(e){var t,n;e?(initEndSequence(),initEndSequenceMessagesOverlay()):(initTryThisLaterMessageSequence("14.3s","15.6s","7.8s"),n=rtl_mode?document.getElementById("playback_canvas_rtl"):document.getElementById("playback_canvas"),t=new ScenesManager(n),t.addScene(new SceneItem(document.getElementById("mouse_sequence"),"s2","from{-ms-animation-timing-function:ease;opacity:0;}15%{opacity:1}85%{opacity:1}to{opacity:1}","14.3s",setMouseSequence1())),t.addScene(new SceneItem(document.getElementById("mouse_sequence"),"s2","from{-ms-animation-timing-function:ease;opacity:1;}15%{opacity:1}85%{opacity:1}to{opacity:1}","7.8s",setMouseSequence2())),t.addScene(new SceneItem(document.getElementById("mouse_sequence"),"s2","from{-ms-animation-timing-function:ease;opacity:1;}15%{opacity:1}85%{opacity:1}to{opacity:1}","7.8s",setMouseSequence2())),t.addScene(new SceneItem(document.getElementById("mouse_sequence"),"s2","from{-ms-animation-timing-function:ease;opacity:1;}15%{opacity:1}85%{opacity:1}to{opacity:0}","7.8s",setMouseSequence2())),t.playScenes({repeat:!1,oncomplete_callback:function(){initEndSequence(),initEndSequenceMessagesOverlay()}}))}function setTouchSequence0(){var e;return e=new KeyframeSequencer(document.getElementById("touch_sequence")),e.addSequence(document.getElementById("touch_intro_text"),[{properties:"-ms-animation-timing-function:cubic-bezier(0.1, 0.9, 0.2, 1);opacity:0;-ms-transform:translate(0px,0px);",duration:0},{properties:"-ms-transform:translate(0px,0px);opacity:1;",duration:2},{properties:"-ms-transform:translate(0px,0px);opacity:1;",duration:1},{properties:"-ms-transform:translate(0px,0px);opacity:0;",duration:1}],"2s"),e.addSequence(document.getElementById("touch_instruction_text"),[{properties:"opacity:0;",duration:.01}],"0s"),e.addSequence(document.getElementById("touch_arrow"),[{properties:"opacity:0;",duration:.01}],"0s"),e.addSequence(document.getElementById("thumbs"),[{properties:"opacity:1;",duration:.01}],"0s"),e.addSequence(document.getElementById("touch_charms"),[{properties:"opacity:0;",duration:.01}],"0s"),e}function setTouchSequence1(){var e;return rtl_mode?(e=new KeyframeSequencer(document.getElementById("touch_sequence")),e.addSequence(document.getElementById("touch_intro_text"),[{properties:"opacity:0;",duration:.01}],"0s"),e.addSequence(document.getElementById("touch_instruction_text"),[{properties:"-ms-animation-timing-function:cubic-bezier(0.1, 0.9, 0.2, 1);opacity:0;-ms-transform:translate(0px,0px);",duration:0},{properties:"-ms-transform:translate(0px,0px);opacity:1;",duration:2}],"0s"),e.addSequence(document.getElementById("touch_arrow"),[{properties:"-ms-animation-timing-function:cubic-bezier(0.1, 0.9, 0.2, 1);-ms-transform:scale(-1,1) translate(120px,0px);",duration:0},{properties:"-ms-transform:scale(-1,1) translate(0px,0px);opacity:1;",duration:1},{properties:"-ms-transform:scale(-1,1) translate(0px,0px);opacity:0",duration:1.5}],"2s"),e.addSequence(document.getElementById("thumbs"),[{properties:"-ms-animation-timing-function:ease;-ms-transform:scale(-1,1) rotate(0deg) translate(0px,0px);",duration:0},{properties:"-ms-animation-timing-function:ease;-ms-transform:scale(-1,1) rotate(-20deg) translate(-3px,11px);",duration:.25},{properties:"-ms-transform:scale(-1,1) rotate(0deg) translate(0px,0px);",duration:.75}],"4s"),e.addSequence(document.getElementById("touch_charms"),[{properties:"-ms-animation-timing-function:cubic-bezier(0.1, 0.9, 0.2, 1);-ms-transform:translate(-35px,0px);",duration:0},{properties:"-ms-transform:translate(0px,0px);",duration:.5},{properties:"-ms-transform:translate(0px,0px);opacity:1",duration:1},{properties:"-ms-transform:translate(0px,0px);opacity:0",duration:1}],"4.05s")):(e=new KeyframeSequencer(document.getElementById("touch_sequence")),e.addSequence(document.getElementById("touch_intro_text"),[{properties:"opacity:0;",duration:.01}],"0s"),e.addSequence(document.getElementById("touch_instruction_text"),[{properties:"-ms-animation-timing-function:cubic-bezier(0.1, 0.9, 0.2, 1);opacity:0;-ms-transform:translate(0px,0px);",duration:0},{properties:"-ms-transform:translate(0px,0px);opacity:1;",duration:2}],"0s"),e.addSequence(document.getElementById("touch_arrow"),[{properties:"-ms-animation-timing-function:cubic-bezier(0.1, 0.9, 0.2, 1);-ms-transform:translate(120px,0px);",duration:0},{properties:"-ms-transform:translate(0px,0px);opacity:1;",duration:1},{properties:"-ms-transform:translate(0px,0px);opacity:0",duration:1.5}],"2s"),e.addSequence(document.getElementById("thumbs"),[{properties:"-ms-animation-timing-function:ease;-ms-transform:rotate(0deg) translate(0px,0px);",duration:0},{properties:"-ms-animation-timing-function:ease;-ms-transform:rotate(-20deg) translate(-3px,11px);",duration:.25},{properties:"-ms-transform:rotate(0deg) translate(0px,0px);",duration:.75}],"4s"),e.addSequence(document.getElementById("touch_charms"),[{properties:"-ms-animation-timing-function:cubic-bezier(0.1, 0.9, 0.2, 1);-ms-transform:translate(35px,0px);",duration:0},{properties:"-ms-transform:translate(0px,0px);",duration:.5},{properties:"-ms-transform:translate(0px,0px);opacity:1",duration:1},{properties:"-ms-transform:translate(0px,0px);opacity:0",duration:1}],"4.05s")),e}function setTouchSequence2(){var e;return rtl_mode?(e=new KeyframeSequencer(document.getElementById("touch_sequence")),e.addSequence(document.getElementById("touch_intro_text"),[{properties:"-ms-animation-timing-function:cubic-bezier(0.1, 0.9, 0.2, 1);opacity:0;-ms-transform:translate(0px,0px);",duration:0},{properties:"-ms-transform:translate(0px,0px);opacity:0;",duration:2},{properties:"-ms-transform:translate(0px,0px);opacity:0;",duration:1},{properties:"-ms-transform:translate(0px,0px);opacity:0;",duration:1}],"0s"),e.addSequence(document.getElementById("touch_instruction_text"),[{properties:"-ms-animation-timing-function:cubic-bezier(0.1, 0.9, 0.2, 1);opacity:1;-ms-transform:translate(0px,0px);",duration:0},{properties:"-ms-transform:translate(0px,0px);opacity:1;",duration:2}],"0s"),e.addSequence(document.getElementById("touch_arrow"),[{properties:"-ms-animation-timing-function:cubic-bezier(0.1, 0.9, 0.2, 1);-ms-transform:scale(-1,1) translate(120px,0px);",duration:0},{properties:"-ms-transform:scale(-1,1) translate(0px,0px);opacity:1;",duration:1},{properties:"-ms-transform:scale(-1,1) translate(0px,0px);opacity:0",duration:1.5}],"2s"),e.addSequence(document.getElementById("thumbs"),[{properties:"-ms-animation-timing-function:ease;-ms-transform:scale(-1,1) rotate(0deg) translate(0px,0px);",duration:0},{properties:"-ms-animation-timing-function:ease;-ms-transform:scale(-1,1) rotate(-20deg) translate(-3px,11px);",duration:.25},{properties:"-ms-transform:scale(-1,1) rotate(0deg) translate(0px,0px);",duration:.75}],"4s"),e.addSequence(document.getElementById("touch_charms"),[{properties:"-ms-animation-timing-function:cubic-bezier(0.1, 0.9, 0.2, 1);-ms-transform:translate(-35px,0px);",duration:0},{properties:"-ms-transform:translate(0px,0px);",duration:.5},{properties:"-ms-transform:translate(0px,0px);opacity:1",duration:1}],"4.05s")):(e=new KeyframeSequencer(document.getElementById("touch_sequence")),e.addSequence(document.getElementById("touch_intro_text"),[{properties:"-ms-animation-timing-function:cubic-bezier(0.1, 0.9, 0.2, 1);opacity:0;-ms-transform:translate(0px,0px);",duration:0},{properties:"-ms-transform:translate(0px,0px);opacity:0;",duration:2},{properties:"-ms-transform:translate(0px,0px);opacity:0;",duration:1},{properties:"-ms-transform:translate(0px,0px);opacity:0;",duration:1}],"0s"),e.addSequence(document.getElementById("touch_instruction_text"),[{properties:"-ms-transform:translate(0px,0px);opacity:1;",duration:0},{properties:"-ms-transform:translate(0px,0px);opacity:1;",duration:2}],"0s"),e.addSequence(document.getElementById("touch_arrow"),[{properties:"-ms-animation-timing-function:cubic-bezier(0.1, 0.9, 0.2, 1);-ms-transform:translate(120px,0px);",duration:0},{properties:"-ms-transform:translate(0px,0px);opacity:1;",duration:1},{properties:"-ms-transform:translate(0px,0px);opacity:0",duration:1.5}],"2s"),e.addSequence(document.getElementById("thumbs"),[{properties:"-ms-animation-timing-function:ease;-ms-transform:rotate(0deg) translate(0px,0px);",duration:0},{properties:"-ms-animation-timing-function:ease;-ms-transform:rotate(-20deg) translate(-3px,11px);",duration:.25},{properties:"-ms-transform:rotate(0deg) translate(0px,0px);",duration:.75}],"4s"),e.addSequence(document.getElementById("touch_charms"),[{properties:"-ms-animation-timing-function:cubic-bezier(0.1, 0.9, 0.2, 1);-ms-transform:translate(35px,0px);",duration:0},{properties:"-ms-transform:translate(0px,0px);",duration:1}],"4.05s")),e}function setTouchSequence3(){var e;return rtl_mode?(e=new KeyframeSequencer(document.getElementById("touch_sequence")),e.addSequence(document.getElementById("touch_intro_text"),[{properties:"-ms-animation-timing-function:cubic-bezier(0.1, 0.9, 0.2, 1);opacity:0;-ms-transform:translate(0px,0px);",duration:0},{properties:"-ms-transform:translate(0px,0px);opacity:0;",duration:2},{properties:"-ms-transform:translate(0px,0px);opacity:0;",duration:1},{properties:"-ms-transform:translate(0px,0px);opacity:0;",duration:1}],"0s"),e.addSequence(document.getElementById("touch_instruction_text"),[{properties:"-ms-transform:translate(0px,0px);opacity:1;",duration:0},{properties:"-ms-transform:translate(0px,0px);opacity:1;",duration:2}],"0s"),e.addSequence(document.getElementById("touch_arrow"),[{properties:"-ms-animation-timing-function:cubic-bezier(0.1, 0.9, 0.2, 1);-ms-transform:scale(-1,1) translate(120px,0px);",duration:0},{properties:"-ms-transform:scale(-1,1) translate(0px,0px);opacity:1;",duration:1},{properties:"-ms-transform:scale(-1,1) translate(0px,0px);opacity:0",duration:1.5}],"2s"),e.addSequence(document.getElementById("thumbs"),[{properties:"-ms-animation-timing-function:ease;-ms-transform:scale(-1,1) rotate(0deg) translate(0px,0px);",duration:0},{properties:"-ms-animation-timing-function:ease;-ms-transform:scale(-1,1) rotate(-20deg) translate(-3px,11px);",duration:.25},{properties:"-ms-transform:scale(-1,1) rotate(0deg) translate(0px,0px);",duration:.75}],"4s"),e.addSequence(document.getElementById("touch_charms"),[{properties:"-ms-animation-timing-function:cubic-bezier(0.1, 0.9, 0.2, 1);-ms-transform:translate(-35px,0px);",duration:0},{properties:"-ms-transform:translate(0px,0px);",duration:.5},{properties:"-ms-transform:translate(0px,0px);opacity:1",duration:1},{properties:"-ms-transform:translate(0px,0px);opacity:0",duration:1}],"4.05s")):(e=new KeyframeSequencer(document.getElementById("touch_sequence")),e.addSequence(document.getElementById("touch_intro_text"),[{properties:"-ms-animation-timing-function:cubic-bezier(0.1, 0.9, 0.2, 1);opacity:0;-ms-transform:translate(0px,0px);",duration:0},{properties:"-ms-transform:translate(0px,0px);opacity:0;",duration:2},{properties:"-ms-transform:translate(0px,0px);opacity:0;",duration:1},{properties:"-ms-transform:translate(0px,0px);opacity:0;",duration:1}],"0s"),e.addSequence(document.getElementById("touch_instruction_text"),[{properties:"-ms-transform:translate(0px,0px);opacity:1;",duration:0},{properties:"-ms-transform:translate(0px,0px);opacity:1;",duration:2}],"0s"),e.addSequence(document.getElementById("touch_arrow"),[{properties:"-ms-animation-timing-function:cubic-bezier(0.1, 0.9, 0.2, 1);-ms-transform:translate(120px,0px);",duration:0},{properties:"-ms-transform:translate(0px,0px);opacity:1;",duration:1},{properties:"-ms-transform:translate(0px,0px);opacity:0",duration:1.5}],"2s"),e.addSequence(document.getElementById("thumbs"),[{properties:"-ms-animation-timing-function:ease;-ms-transform:rotate(0deg) translate(0px,0px);",duration:0},{properties:"-ms-animation-timing-function:ease;-ms-transform:rotate(-20deg) translate(-3px,11px);",duration:.25},{properties:"-ms-transform:rotate(0deg) translate(0px,0px);",duration:.75}],"4s"),e.addSequence(document.getElementById("touch_charms"),[{properties:"-ms-animation-timing-function:cubic-bezier(0.1, 0.9, 0.2, 1);-ms-transform:translate(35px,0px);",duration:0},{properties:"-ms-transform:translate(0px,0px);",duration:.5},{properties:"-ms-transform:translate(0px,0px);opacity:1",duration:1},{properties:"-ms-transform:translate(0px,0px);opacity:0",duration:1}],"4.05s")),e}function setTouchSequence4(){var e;return rtl_mode?(e=new KeyframeSequencer(document.getElementById("touch_sequence")),e.addSequence(document.getElementById("touch_intro_text"),[{properties:"opacity:0;",duration:.01}],"0s"),e.addSequence(document.getElementById("touch_instruction_text"),[{properties:"-ms-animation-timing-function:cubic-bezier(0.1, 0.9, 0.2, 1);opacity:0;-ms-transform:translate(0px,0px);",duration:0},{properties:"-ms-transform:translate(0px,0px);opacity:1;",duration:2}],"2s"),e.addSequence(document.getElementById("touch_arrow"),[{properties:"-ms-animation-timing-function:cubic-bezier(0.1, 0.9, 0.2, 1);-ms-transform:scale(-1,1) translate(120px,0px);",duration:0},{properties:"-ms-transform:scale(-1,1) translate(0px,0px);opacity:1;",duration:1},{properties:"-ms-transform:scale(-1,1) translate(0px,0px);opacity:0",duration:1.5}],"4s"),e.addSequence(document.getElementById("thumbs"),[{properties:"-ms-animation-timing-function:ease;-ms-transform:scale(-1,1) rotate(0deg) translate(0px,0px);",duration:0},{properties:"-ms-animation-timing-function:ease;-ms-transform:scale(-1,1) rotate(-20deg) translate(-3px,11px);",duration:.25},{properties:"-ms-transform:scale(-1,1) rotate(0deg) translate(0px,0px);",duration:.75}],"6s"),e.addSequence(document.getElementById("touch_charms"),[{properties:"-ms-animation-timing-function:cubic-bezier(0.1, 0.9, 0.2, 1);-ms-transform:translate(-35px,0px);",duration:0},{properties:"-ms-transform:translate(0px,0px);",duration:.5},{properties:"-ms-transform:translate(0px,0px);opacity:1",duration:1},{properties:"-ms-transform:translate(0px,0px);opacity:0",duration:1}],"6.05s")):(e=new KeyframeSequencer(document.getElementById("touch_sequence")),e.addSequence(document.getElementById("touch_intro_text"),[{properties:"opacity:0;",duration:.01}],"0s"),e.addSequence(document.getElementById("touch_instruction_text"),[{properties:"-ms-animation-timing-function:cubic-bezier(0.1, 0.9, 0.2, 1);opacity:0;-ms-transform:translate(0px,0px);",duration:0},{properties:"-ms-transform:translate(0px,0px);opacity:1;",duration:2}],"2s"),e.addSequence(document.getElementById("touch_arrow"),[{properties:"-ms-animation-timing-function:cubic-bezier(0.1, 0.9, 0.2, 1);-ms-transform:translate(120px,0px);",duration:0},{properties:"-ms-transform:translate(0px,0px);opacity:1;",duration:1},{properties:"-ms-transform:translate(0px,0px);opacity:0",duration:1.5}],"4s"),e.addSequence(document.getElementById("thumbs"),[{properties:"-ms-animation-timing-function:ease;-ms-transform:rotate(0deg) translate(0px,0px);",duration:0},{properties:"-ms-animation-timing-function:ease;-ms-transform:rotate(-20deg) translate(-3px,11px);",duration:.25},{properties:"-ms-transform:rotate(0deg) translate(0px,0px);",duration:.75}],"6s"),e.addSequence(document.getElementById("touch_charms"),[{properties:"-ms-animation-timing-function:cubic-bezier(0.1, 0.9, 0.2, 1);-ms-transform:translate(35px,0px);",duration:0},{properties:"-ms-transform:translate(0px,0px);",duration:.5},{properties:"-ms-transform:translate(0px,0px);opacity:1",duration:1},{properties:"-ms-transform:translate(0px,0px);opacity:0",duration:1}],"6.05s")),e}function setMouseSequence1(){var e;return rtl_mode?(e=new KeyframeSequencer(document.getElementById("mouse_sequence")),e.addSequence(document.getElementById("mouse_intro_text"),[{properties:"-ms-animation-timing-function:cubic-bezier(0.1, 0.9, 0.2, 1);opacity:0;-ms-transform:translate(0px,0px);",duration:0},{properties:"-ms-transform:translate(0px,0px);opacity:1;",duration:2},{properties:"-ms-transform:translate(0px,0px);opacity:1;",duration:1},{properties:"-ms-transform:translate(0px,0px);opacity:0;",duration:1}],"2s"),e.addSequence(document.getElementById("mouse_instruction_text"),[{properties:"-ms-animation-timing-function:cubic-bezier(0.1, 0.9, 0.2, 1);opacity:0;-ms-transform:translate(0px,0px);",duration:0},{properties:"-ms-transform:translate(0px,0px);opacity:1;",duration:2}],"6s"),e.addSequence(document.getElementById("cursor"),[{properties:"-ms-animation-timing-function:cubic-bezier(0.1, 0.9, 0.2, 1);opacity:0;",duration:0},{properties:"opacity:1;-ms-transform:translate(0px,0px)",duration:2},{properties:"opacity:1;-ms-transform:translate(0px,0px)",duration:1},{properties:"opacity:1;-ms-transform:translate(-130px,-130px)",duration:1}],"8s"),e.addSequence(document.getElementById("mouse_arrow"),[{properties:"-ms-animation-timing-function:cubic-bezier(0.1, 0.9, 0.2, 1);opacity:0;-ms-transform:translate(0px,0px)",duration:0},{properties:"-ms-animation-timing-function:cubic-bezier(0.1, 0.9, 0.2, 1);opacity:1;-ms-transform:translate(0px,0px);",duration:1},{properties:"-ms-animation-timing-function:cubic-bezier(0.1, 0.9, 0.2, 1);opacity:1;-ms-transform:translate(0px,0px);",duration:.8},{properties:"-ms-animation-timing-function:cubic-bezier(0.1, 0.9, 0.2, 1);opacity:0;",duration:.7}],"9s"),e.addSequence(document.getElementById("mouse_charms"),[{properties:"-ms-animation-timing-function:cubic-bezier(0.1, 0.9, 0.2, 1);-ms-transform:translate(-35px,0px);",duration:0},{properties:"-ms-transform:translate(4px,0px);",duration:.5},{properties:"-ms-transform:translate(4px,0px);opacity:1",duration:1},{properties:"-ms-transform:translate(4px,0px);opacity:0",duration:1}],"11.6s")):(e=new KeyframeSequencer(document.getElementById("mouse_sequence")),e.addSequence(document.getElementById("mouse_intro_text"),[{properties:"-ms-animation-timing-function:cubic-bezier(0.1, 0.9, 0.2, 1);opacity:0;-ms-transform:translate(0px,0px);",duration:0},{properties:"-ms-transform:translate(0px,0px);opacity:1;",duration:2},{properties:"-ms-transform:translate(0px,0px);opacity:1;",duration:1},{properties:"-ms-transform:translate(0px,0px);opacity:0;",duration:1}],"2s"),e.addSequence(document.getElementById("mouse_instruction_text"),[{properties:"-ms-animation-timing-function:cubic-bezier(0.1, 0.9, 0.2, 1);opacity:0;-ms-transform:translate(0px,0px);",duration:0},{properties:"-ms-transform:translate(0px,0px);opacity:1;",duration:2}],"6s"),e.addSequence(document.getElementById("cursor"),[{properties:"-ms-animation-timing-function:cubic-bezier(0.1, 0.9, 0.2, 1);opacity:0;",duration:0},{properties:"opacity:1;-ms-transform:translate(0px,0px)",duration:2},{properties:"opacity:1;-ms-transform:translate(0px,0px)",duration:1},{properties:"opacity:1;-ms-transform:translate(100px,-100px)",duration:1}],"8s"),e.addSequence(document.getElementById("mouse_arrow"),[{properties:"-ms-animation-timing-function:cubic-bezier(0.1, 0.9, 0.2, 1);opacity:0;-ms-transform:translate(0px,0px)",duration:0},{properties:"-ms-animation-timing-function:cubic-bezier(0.1, 0.9, 0.2, 1);opacity:1;-ms-transform:translate(0px,0px);",duration:1},{properties:"-ms-animation-timing-function:cubic-bezier(0.1, 0.9, 0.2, 1);opacity:1;-ms-transform:translate(0px,0px);",duration:.8},{properties:"-ms-animation-timing-function:cubic-bezier(0.1, 0.9, 0.2, 1);opacity:0;",duration:.7}],"9s"),
e.addSequence(document.getElementById("mouse_charms"),[{properties:"-ms-animation-timing-function:cubic-bezier(0.1, 0.9, 0.2, 1);-ms-transform:translate(35px,0px);",duration:0},{properties:"-ms-transform:translate(0px,0px);",duration:.5},{properties:"-ms-transform:translate(0px,0px);opacity:1",duration:1},{properties:"-ms-transform:translate(0px,0px);opacity:0",duration:1}],"11.6s")),e}function setMouseSequence3(){var e;return rtl_mode?(e=new KeyframeSequencer(document.getElementById("mouse_sequence")),e.addSequence(document.getElementById("mouse_intro_text"),[{properties:"-ms-animation-timing-function:cubic-bezier(0.1, 0.9, 0.2, 1);opacity:0;-ms-transform:translate(0px,0px);",duration:0},{properties:"-ms-transform:translate(0px,0px);opacity:0;",duration:2},{properties:"-ms-transform:translate(0px,0px);opacity:0;",duration:1},{properties:"-ms-transform:translate(0px,0px);opacity:0;",duration:1}],"0s"),e.addSequence(document.getElementById("mouse_instruction_text"),[{properties:"-ms-animation-timing-function:cubic-bezier(0.1, 0.9, 0.2, 1);opacity:0;-ms-transform:translate(0px,0px);",duration:0},{properties:"-ms-transform:translate(0px,0px);opacity:1;",duration:2}],"2s"),e.addSequence(document.getElementById("cursor"),[{properties:"-ms-animation-timing-function:cubic-bezier(0.1, 0.9, 0.2, 1);opacity:0;",duration:0},{properties:"opacity:1;-ms-transform:translate(0px,0px)",duration:2},{properties:"opacity:1;-ms-transform:translate(0px,0px)",duration:1},{properties:"opacity:1;-ms-transform:translate(-130px,-130px)",duration:1}],"4s"),e.addSequence(document.getElementById("mouse_arrow"),[{properties:"-ms-animation-timing-function:cubic-bezier(0.1, 0.9, 0.2, 1);opacity:0;-ms-transform:translate(0px,0px)",duration:0},{properties:"-ms-animation-timing-function:cubic-bezier(0.1, 0.9, 0.2, 1);opacity:1;-ms-transform:translate(0px,0px);",duration:1},{properties:"-ms-animation-timing-function:cubic-bezier(0.1, 0.9, 0.2, 1);opacity:1;-ms-transform:translate(0px,0px);",duration:.8},{properties:"-ms-animation-timing-function:cubic-bezier(0.1, 0.9, 0.2, 1);opacity:0;",duration:.7}],"5s"),e.addSequence(document.getElementById("mouse_charms"),[{properties:"-ms-animation-timing-function:cubic-bezier(0.1, 0.9, 0.2, 1);-ms-transform:translate(-35px,0px);",duration:0},{properties:"-ms-transform:translate(4px,0px);",duration:.5},{properties:"-ms-transform:translate(4px,0px);opacity:1",duration:1},{properties:"-ms-transform:translate(4px,0px);opacity:0",duration:1}],"7.6s")):(e=new KeyframeSequencer(document.getElementById("mouse_sequence")),e.addSequence(document.getElementById("mouse_intro_text"),[{properties:"-ms-animation-timing-function:cubic-bezier(0.1, 0.9, 0.2, 1);opacity:0;-ms-transform:translate(0px,0px);",duration:0},{properties:"-ms-transform:translate(0px,0px);opacity:0;",duration:2},{properties:"-ms-transform:translate(0px,0px);opacity:0;",duration:1},{properties:"-ms-transform:translate(0px,0px);opacity:0;",duration:1}],"0s"),e.addSequence(document.getElementById("mouse_instruction_text"),[{properties:"-ms-animation-timing-function:cubic-bezier(0.1, 0.9, 0.2, 1);opacity:0;-ms-transform:translate(0px,0px);",duration:0},{properties:"-ms-transform:translate(0px,0px);opacity:1;",duration:2}],"2s"),e.addSequence(document.getElementById("cursor"),[{properties:"-ms-animation-timing-function:cubic-bezier(0.1, 0.9, 0.2, 1);opacity:0;",duration:0},{properties:"opacity:1;-ms-transform:translate(0px,0px)",duration:2},{properties:"opacity:1;-ms-transform:translate(0px,0px)",duration:1},{properties:"opacity:1;-ms-transform:translate(100px,-100px)",duration:1}],"4s"),e.addSequence(document.getElementById("mouse_arrow"),[{properties:"-ms-animation-timing-function:cubic-bezier(0.1, 0.9, 0.2, 1);opacity:0;-ms-transform:translate(0px,0px)",duration:0},{properties:"-ms-animation-timing-function:cubic-bezier(0.1, 0.9, 0.2, 1);opacity:1;-ms-transform:translate(0px,0px);",duration:1},{properties:"-ms-animation-timing-function:cubic-bezier(0.1, 0.9, 0.2, 1);opacity:1;-ms-transform:translate(0px,0px);",duration:.8},{properties:"-ms-animation-timing-function:cubic-bezier(0.1, 0.9, 0.2, 1);opacity:0;",duration:.7}],"5s"),e.addSequence(document.getElementById("mouse_charms"),[{properties:"-ms-animation-timing-function:cubic-bezier(0.1, 0.9, 0.2, 1);-ms-transform:translate(35px,0px);",duration:0},{properties:"-ms-transform:translate(0px,0px);",duration:.5},{properties:"-ms-transform:translate(0px,0px);opacity:1",duration:1},{properties:"-ms-transform:translate(0px,0px);opacity:0",duration:1}],"7.6s")),e}function setMouseSequence2(){var e;return rtl_mode?(e=new KeyframeSequencer(document.getElementById("mouse_sequence")),e.addSequence(document.getElementById("mouse_intro_text"),[{properties:"-ms-animation-timing-function:cubic-bezier(0.1, 0.9, 0.2, 1);opacity:0;-ms-transform:translate(0px,0px);",duration:0},{properties:"-ms-transform:translate(0px,0px);opacity:0;",duration:2},{properties:"-ms-transform:translate(0px,0px);opacity:0;",duration:1},{properties:"-ms-transform:translate(0px,0px);opacity:0;",duration:1}],"0s"),e.addSequence(document.getElementById("mouse_instruction_text"),[{properties:"-ms-animation-timing-function:cubic-bezier(0.1, 0.9, 0.2, 1);opacity:1;-ms-transform:translate(0px,0px);",duration:0},{properties:"-ms-transform:translate(0px,0px);opacity:1;",duration:2}],"0s"),e.addSequence(document.getElementById("cursor"),[{properties:"-ms-animation-timing-function:cubic-bezier(0.1, 0.9, 0.2, 1);opacity:0;",duration:0},{properties:"opacity:1;-ms-transform:translate(0px,0px)",duration:2},{properties:"opacity:1;-ms-transform:translate(0px,0px)",duration:1},{properties:"opacity:1;-ms-transform:translate(-130px,-130px)",duration:1}],"2s"),e.addSequence(document.getElementById("mouse_arrow"),[{properties:"-ms-animation-timing-function:cubic-bezier(0.1, 0.9, 0.2, 1);opacity:0;-ms-transform:translate(0px,0px)",duration:0},{properties:"-ms-animation-timing-function:cubic-bezier(0.1, 0.9, 0.2, 1);opacity:1;-ms-transform:translate(0px,0px);",duration:1},{properties:"-ms-animation-timing-function:cubic-bezier(0.1, 0.9, 0.2, 1);opacity:1;-ms-transform:translate(0px,0px);",duration:.8},{properties:"-ms-animation-timing-function:cubic-bezier(0.1, 0.9, 0.2, 1);opacity:0;",duration:.7}],"3s"),e.addSequence(document.getElementById("mouse_charms"),[{properties:"-ms-animation-timing-function:cubic-bezier(0.1, 0.9, 0.2, 1);-ms-transform:translate(-35px,0px);",duration:0},{properties:"-ms-transform:translate(4px,0px);",duration:.5},{properties:"-ms-transform:translate(4px,0px);opacity:1",duration:1},{properties:"-ms-transform:translate(4px,0px);opacity:0",duration:1}],"5.6s")):(e=new KeyframeSequencer(document.getElementById("mouse_sequence")),e.addSequence(document.getElementById("mouse_intro_text"),[{properties:"-ms-animation-timing-function:cubic-bezier(0.1, 0.9, 0.2, 1);opacity:0;-ms-transform:translate(0px,0px);",duration:0},{properties:"-ms-transform:translate(0px,0px);opacity:0;",duration:2},{properties:"-ms-transform:translate(0px,0px);opacity:0;",duration:1},{properties:"-ms-transform:translate(0px,0px);opacity:0;",duration:1}],"0s"),e.addSequence(document.getElementById("mouse_instruction_text"),[{properties:"-ms-transform:translate(0px,0px);opacity:1;",duration:0},{properties:"-ms-transform:translate(0px,0px);opacity:1;",duration:2}],"0s"),e.addSequence(document.getElementById("cursor"),[{properties:"-ms-animation-timing-function:cubic-bezier(0.1, 0.9, 0.2, 1);opacity:0;",duration:0},{properties:"opacity:1;-ms-transform:translate(0px,0px)",duration:2},{properties:"opacity:1;-ms-transform:translate(0px,0px)",duration:1},{properties:"opacity:1;-ms-transform:translate(100px,-100px)",duration:1}],"2s"),e.addSequence(document.getElementById("mouse_arrow"),[{properties:"-ms-animation-timing-function:cubic-bezier(0.1, 0.9, 0.2, 1);opacity:0;-ms-transform:translate(0px,0px)",duration:0},{properties:"-ms-animation-timing-function:cubic-bezier(0.1, 0.9, 0.2, 1);opacity:1;-ms-transform:translate(0px,0px);",duration:1},{properties:"-ms-animation-timing-function:cubic-bezier(0.1, 0.9, 0.2, 1);opacity:1;-ms-transform:translate(0px,0px);",duration:.8},{properties:"-ms-animation-timing-function:cubic-bezier(0.1, 0.9, 0.2, 1);opacity:0;",duration:.7}],"3s"),e.addSequence(document.getElementById("mouse_charms"),[{properties:"-ms-animation-timing-function:cubic-bezier(0.1, 0.9, 0.2, 1);-ms-transform:translate(35px,0px);",duration:0},{properties:"-ms-transform:translate(0px,0px);",duration:.5},{properties:"-ms-transform:translate(0px,0px);opacity:1",duration:1},{properties:"-ms-transform:translate(0px,0px);opacity:0",duration:1}],"5.6s")),e}function init(){document.getElementById("playback_canvas"+(rtl_mode?"_rtl":"")).style.visibility="visible",centerPos(),window.onresize=function(){centerPos()}}function adjustInstructionText(){for(var e,t,n,a=window.innerWidth,r=564,o=document.querySelectorAll(".instruction_text"),i=0;i<o.length;i++)e=o[i],e.style.width=a+"px",e.style.left=(r-a)/2+"px",e.style.top=-e.clientHeight-40+"px";for(t=document.querySelectorAll(".instruction_text_small"),i=0;i<t.length;i++)n=t[i],n.style.width=a+"px",n.style.left=(r-a)/2+"px",n.style.top="390px"}function centerPos(){var e,t,n,a;adjustInstructionText();var r=564,o=390,i=window.innerWidth,s=window.innerHeight,p=document.querySelector("#playback_canvas"+(rtl_mode?"_rtl":""));p.style.left=(i-r)/2+"px",p.style.top=(s-o)/2+v_offset+"px",e=document.querySelector("#trythislater_overlay_canvas"),e.style.left=(i-r)/2+"px",e.style.top=(s-o)/2+v_offset+"px";var m=document.querySelectorAll(".final_text");i=window.innerWidth,s=window.innerHeight;for(n=0;n<m.length;n++)a=m[n],a.style.width=i+"px",a.style.top=(s-a.offsetHeight)/2+"px";m=document.querySelectorAll(".final_text_small"),i=window.innerWidth,s=window.innerHeight;for(n=0;n<m.length;n++)a=m[n],a.style.width=i+"px",a.style.top=Math.floor((s-a.offsetHeight+120)/2)+"px";for(t=document.querySelectorAll(".fullscreen_color"),n=0;n<t.length;n++)a=t[n],a.style.width=window.outerWidth+"px",a.style.height=window.outerHeight+"px"}function endAnimation(){var e,t=document.getElementById("drape");e=new ScenesManager(t),e.addScene(new SceneItem(document.getElementById("wrap_up_sequence"),"ws","to{opacity:1}","5.2s",setWrapUpSequence())),e.playScenes(),setTimeout(function(){for(var e,t=document.querySelector("#container").childNodes,n=0;n<t.length;n++)e=t[n],document.querySelector("#container").removeChild(e)},2e3)}function setWrapUpSequence(){var e;return e=new KeyframeSequencer(document.getElementById("wrap_up_sequence")),e.addSequence(document.getElementById("finish_text"),[{properties:"-ms-animation-timing-function:cubic-bezier(0.1, 0.9, 0.2, 1);opacity:0;-ms-transform:translate(0px,0px);",duration:0},{properties:"-ms-transform:translate(0px,0px);opacity:1;",duration:1},{properties:"-ms-transform:translate(0px,0px);opacity:1;",duration:2},{properties:"-ms-transform:translate(0px,0px);opacity:0;",duration:1}],"1s"),e.addSequence(document.getElementById("black_panel"),[{properties:"-ms-animation-timing-function:linear;opacity:0;",duration:0},{properties:"opacity:1;",duration:1}],"0s"),e}function setUserColor(e,t){for(var n,a=document.getElementsByClassName("user_color1"),r=0;r<a.length;r++)n=a[r],n.attributes.fill?n.attributes.fill.value=e:n.style.backgroundColor=e;for(a=document.getElementsByClassName("user_color2"),r=0;r<a.length;r++)n=a[r],n.attributes.fill?n.attributes.fill.value=t:n.style.backgroundColor=t}function setItemText(e,t){document.getElementById(e).innerHTML=t}function setAriaLabel(e,t){document.getElementById(e).setAttribute("aria-label",t)}var ScenesManager,uniqueId=0,SceneItem=(uniqueId=0,function(e,t,n,a,r){e.style.visibility="visible",this.keyframe_sequence=r,this.element=e,this.animation_name=t,this.animation_duration=a,this.keyframes="@-ms-keyframes "+t+" {"+n+"}"}),KeyframeSequencer=function(e){this._created_keyframes=[],this.container_element=e,this._sequences=[];var t=document.createElement("style");document.head.appendChild(t),this.stylesheet=t.sheet};KeyframeSequencer.prototype.addSequence=function(e,t,n,a){var r,o,i,s,p,m,c={};for(c.element=e,c.keyframe_name=genUniqueKeyframeName(),c.keyframe_style_str="@-ms-keyframes "+c.keyframe_name+" {",r=0,i=0;i<t.length;i++)s=t[i].duration,r+=s;for(o=0,i=0;i<t.length;i++)s=t[i].duration,o+=s,p=o/r*100+"%",m=t[i].properties,c.keyframe_style_str+=p+"{"+m+"}";c.keyframe_style_str+="}",c.delay=n,c.duration=r+"s",c.fill_mode=a||"both",this._sequences.push(c)},KeyframeSequencer.prototype.playSequence=function(){for(var e,t,n=[],a=0;a<this.container_element.childNodes.length;a++)n.push(this.container_element.childNodes[a]);for(this.stylesheet.cssText="",a=0;a<this._sequences.length;a++)e=this._sequences[a],t=e.element,this.stylesheet.insertRule(e.keyframe_style_str,0),this._created_keyframes.push(e.keyframe_name),t.style.msAnimationDuration=e.duration,t.style.msAnimationDelay=e.delay,t.style.msAnimationFillMode=e.fill_mode,t.style.msAnimationName=e.keyframe_name},ScenesManager=function(e){this._event_element=document.createElement("div"),this._canvas=e,this._scenes=[],this._playhead=0,this._repeat=!1,this._repeat_from=0,this._iteration_count=0,this._max_iteration=0,this.oncomplete_callback=null;var t=document.createElement("style");document.head.appendChild(t),this.stylesheet=t.sheet},ScenesManager.prototype.addScene=function(e){this._scenes.push(e)},ScenesManager.prototype.playScenes=function(e){for(;this._canvas.hasChildNodes();)this._canvas.removeChild(this._canvas.childNodes[0]);e&&e.repeat&&(this._repeat=e.repeat,e&&e.repeat_from&&(this._repeat_from=e.repeat_from),e&&e.repeat_count&&(this._max_iteration=e.repeat_count)),e&&e.oncomplete_callback&&(this.oncomplete_callback=e.oncomplete_callback),this.playCurrentScene()},ScenesManager.prototype._onPlayNext=function(){var e=!1;this._playhead+1<this._scenes.length?(this._playhead+=1,this.playCurrentScene()):(this.stylesheet.cssText="",this._repeat?(this._playhead=this._repeat_from,0!=this._max_iteration&&this._iteration_count>=this._max_iteration-1?(this.repeat=!1,e=!0):(this.playCurrentScene(),this._iteration_count+=1)):e=!0),e&&null!=this.oncomplete_callback&&this.oncomplete_callback()},ScenesManager.prototype.playCurrentScene=function(){var e,t,n=this,a=this._scenes[this._playhead],r=a.element;this._canvas.appendChild(r),e=a.keyframes,t=this.stylesheet,t.insertRule(e,0),r.has_event||(r.has_event=!0,r.addEventListener("MSAnimationEnd",function(e){e.target===r&&n._onPlayNext()})),r.style.msAnimationName=a.animation_name,r.style.msAnimationDuration=a.animation_duration,r.style.msAnimationFillMode="both",a.keyframe_sequence&&a.keyframe_sequence.playSequence()};var elm,rCurrent,gCurrent,bCurrent,rIncrement,gIncrement,bIncrement,rtl_mode=!1,v_offset=40,zdpMessageIndex=(rtl_mode=!1,v_offset=40,0),rgZDPMessages=[],steps=240,currentStep=240,skipNthFrame=3,framesSinceSkip=0,numberColors=2,currentColor=0,targetColor=1,rValues=[0,0],gValues=[0,0],bValues=[0,0],callback=null;